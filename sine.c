#include "sine.h"
const uint8_t sintab[] PROGMEM = {
256*0.0,
256*0.0490676743274,
256*0.0980171403296,
256*0.146730474455,
256*0.195090322016,
256*0.242980179903,
256*0.290284677254,
256*0.336889853392,
256*0.382683432365,
256*0.42755509343,
256*0.471396736826,
256*0.514102744193,
256*0.55557023302,
256*0.595699304492,
256*0.634393284164,
256*0.671558954847,
256*0.707106781187,
256*0.740951125355,
256*0.773010453363,
256*0.803207531481,
256*0.831469612303,
256*0.85772861,
256*0.881921264348,
256*0.903989293123,
256*0.923879532511,
256*0.941544065183,
256*0.956940335732,
256*0.970031253195,
256*0.980785280403,
256*0.989176509965,
256*0.995184726672,
256*0.998795456205,
255
};

int8_t sine(uint8_t slivers)
{
  uint8_t neg;
  int8_t s;
  if ((neg = (slivers >= 128))) slivers -= 128;
  if (slivers > 64) slivers = 128 - slivers;
  /*
   */
  s = pgm_read_byte_near(sintab + slivers/2)/2;
  return(neg?0 - s:s);
}
